==============================
NAND Fix Pro v1.0.2 - Complete Usage Guide
==============================

Table of Contents:
1. Introduction & Safety
2. Prerequisites  
3. Initial Setup
4. Understanding the Repair Levels
5. Step-by-Step Procedures
6. Troubleshooting
7. FAQ
8. Final Notes

==============================
1. INTRODUCTION & SAFETY
==============================

What is NAND Fix Pro?
NAND Fix Pro is a comprehensive wrapper tool that orchestrates and automates the repair of software-level corruption on Nintendo Switch eMMC NAND storage. It manages multiple specialized components working together:

- EmmcHaccGen: Generates boot files and system content
- NxNandManager: Handles partition extraction, flashing, and encryption
- OSFMount: Mounts filesystem images for modification

NAND Fix Pro acts as an intelligent orchestrator that automates the complex process of using these tools together, eliminating the need for manual command-line operations and reducing user error. It can recover consoles that fail to boot due to damaged operating systems, corrupted partitions, or failed firmware updates.

CRITICAL WARNING:
This tool CANNOT fix hardware issues. If your Switch has:
- Physical damage to the eMMC chip
- Motherboard failures
- Power supply issues
- Damaged connectors

This software will not help. Hardware repairs require professional service.

Risk Assessment:
- Level 1: Minimal risk - preserves user data
- Level 2: Moderate risk - erases all user data but keeps console identity
- Level 3: High risk - loses official Nintendo services but maintains internet connectivity

==============================
2. PREREQUISITES
==============================

Required Files:

1. prod.keys - Console-specific encryption keys
   - Must be dumped from YOUR console using Lockpick_RCM
   - Never use keys from another console
   - File should be approximately 4KB in size

2. Firmware Package - Complete Nintendo Switch firmware
   - Download from trusted sources: https://www.sthetix.info/nx-firmware or https://github.com/THZoria/NX_Firmware or 
   - Must be EXTRACTED, not a ZIP file
   - Should contain folders like: 00, 01, 02, etc.

3. PRODINFO (Level 3 only) - Console identity file
   - Only needed for Level 3 recovery
   - Must be decrypted (starts with "CAL0" when viewed in hex editor)
   - Can be your original console's decrypted PRODINFO backup OR generated using prodinfo_gen tool

Required Hardware:
- Modded Nintendo Switch with modchip
- USB-C cable (data transfer capable)
- Windows PC
- Minimum 60GB free disk space
- Stable USB connection

Required Software (Auto-installed by NAND Fix Pro):
- OSFMount (for mounting filesystem images)
- 7-Zip (for archive extraction)
- Python WMI library (for drive detection)

==============================
3. INITIAL SETUP
==============================

1. Create NAND Backup (MANDATORY):
Before attempting ANY repair, create a complete backup:

a) Power on your Switch and boot to Hekate
b) Navigate to Tools → Backup eMMC
c) Select "eMMC BOOT0 & BOOT1" and wait for completion
d) Select "eMMC RAW GPP" and wait for completion
e) Keep this backup safe - it contains your console's unique identity

2. Prepare Your Switch:

a) In Hekate, go to Tools → USB Tools 
b) IMPORTANT: Set "Read-Only" to OFF
c) Click eMMC RAW GPP
d) Connect USB-C cable to PC

3. Configure NAND Fix Pro:
a) Launch NANDFixPro.exe (automatically runs with admin privileges)
b) Go to Settings menu and configure paths:
   - Keys File: Point to your prod.keys file
   - Firmware Folder: Select your extracted firmware directory
   - Output Folder: Choose where to save BOOT files
   - PRODINFO (Level 3): Select your PRODINFO file if needed
c) The application will auto-detect other required tools

==============================
4. UNDERSTANDING THE REPAIR LEVELS
==============================

--- LEVEL 1: SYSTEM RESTORE ---
Best for: Most common software issues

What it does:
- Repairs the SYSTEM partition while preserving user data
- Replaces OS files but keeps saves, games, and profiles
- Updates bootloaders to match firmware version

Use when:
- Switch boots but hangs on second Nintendo logo
- Installing custom themes caused boot issues
- Want to cleanly upgrade/downgrade firmware
- System shows error codes but still partially boots

Data preservation:
✓ Game saves
✓ Installed games
✓ User profiles
✓ Screenshots/videos
✓ System settings (partially)

--- LEVEL 2: FULL REBUILD ---
Best for: Deep corruption across multiple partitions

What it does:
- Rebuilds all major partitions from clean templates
- Preserves console identity (PRODINFO)
- Creates "factory fresh" state with new firmware

Use when:
- Level 1 fails to resolve the issue
- Multiple partitions show corruption
- Want to completely sanitize console before sale
- Suspect filesystem corruption beyond just OS

Data preservation:
✗ Game saves (permanently lost)
✗ Installed games (permanently lost)
✗ User profiles (permanently lost)
✗ Screenshots/videos (permanently lost)
✓ Console identity and online functionality

Advanced: Fix USER Only
A faster variant that only replaces the USER partition:
- Takes less time than the original Level 2
- Use when the USER partition is corrupt
- Same data loss as full Level 2

--- LEVEL 3: COMPLETE RECOVERY ---
Best for: Total NAND loss scenarios (LAST RESORT)

What it does:
- Rebuilds entire NAND from scratch using donor templates
- Requires external PRODINFO file (original backup or artificial)
- Creates bootable system but loses official Nintendo services

Use when:
- eMMC was completely wiped/formatted
- PRODINFO is irreparably damaged
- Previous repairs destroyed console identity
- No other option remains

Consequences:
✗ All data permanently lost
✗ Original Nintendo eShop access lost forever
✗ Cannot update games/system through Nintendo servers
✗ Cannot download games from official eShop
✓ Can still connect to internet and use homebrew shops (Tinfoil, etc.)
✓ Online gaming through homebrew may still work

==============================
5. STEP-BY-STEP PROCEDURES
==============================

Before Starting Any Level:
1. Ensure 60GB+ free disk space
2. Verify Switch is properly connected and detected
3. Double-check all file paths in Settings

--- LEVEL 1 PROCEDURE ---
1. Connect & Confirm: App will detect your Switch eMMC
2. PRODINFO Analysis: Tool reads console identity from eMMC
3. Boot File Generation: Creates firmware-specific bootloaders
4. System Backup: Dumps current SYSTEM partition
5. System Modification: Injects new OS files while preserving user data
6. System Restore: Writes modified partition back to eMMC
7. Bootloader Update: Installs new BCPKG2 partitions
8. BOOT File Export: Saves BOOT0/BOOT1 for manual flashing



--- LEVEL 2 PROCEDURE ---
1. Connect & Confirm: App detects Switch and confirms data erasure
2. PRODINFO Acquisition: Reads from eMMC or uses backup
3. Boot File Generation: Creates firmware-specific bootloaders
4. Template Preparation: Extracts clean partition templates
5. System Integration: Injects OS files into clean SYSTEM template
6. Mass Partition Flash: Replaces PRODINFO, SYSTEM, USER, SAFE partitions
7. Bootloader Update: Installs new BCPKG2 partitions
8. BOOT File Export: Saves BOOT0/BOOT1 for manual flashing



--- LEVEL 3 PROCEDURE ---
1. Connect & Confirm: App detects Switch and warns about consequences
2. Skeleton Preparation: Extracts appropriate NAND template (32GB/64GB)
3. PRODINFO Validation: Verifies donor PRODINFO file
4. Boot File Generation: Creates firmware-specific bootloaders
5. Template Population: Extracts and prepares all partition templates
6. System Integration: Builds complete SYSTEM with OS files
7. Skeleton Assembly: Flashes all partitions to NAND template
8. Complete Flash: Writes entire reconstructed NAND to eMMC
9. BOOT File Export: Saves BOOT0/BOOT1 for manual flashing



--- FINAL STEP FOR ALL LEVELS ---
Manual BOOT Flashing (REQUIRED):
1. On Hekate, Go to Tools → USB Tools
2. IMPORTANT: Set "Read-Only" to OFF
3. Select SD
4. Copy or Move the generated BOOT0 and BOOT1 to the Backup/[alphanumeric ID]/restore
5. Select Restore eMMC → eMMC BOOT0 & BOOT1 and ignore all mismatched file size

==============================
6. TROUBLESHOOTING
==============================

Common Issues:

"No potential Switch eMMC drives found"
- Ensure Switch is in eMMC RAW GPP mode
- Check USB cable (must support data transfer)
- Try different USB port
- Verify "Read-Only" is set to OFF in Hekate
- Reconnect Switch and retry

"Permission denied when trying to write"
- Ensure no file explorer windows are browsing the Switch
- Close all programs that might access USB drives
- Check USB connection stability

"PRODINFO is not found or damaged"
- For Level 1/2: If PRODINFO cannot be read from eMMC, you must use Level 3 instead
- For Level 3: Use either your original console's decrypted PRODINFO backup or generate artificial PRODINFO using prodinfo_gen tool
- Verify PRODINFO file is decrypted (starts with "CAL0")

"Failed to extract/flash partition"
- Check available disk space (need 60GB+)
- Verify all required files are present in lib/NAND folder
- Try running on different PC
- Check USB connection stability

"Process hangs or freezes"
- Don't disconnect Switch during operation
- Check system resources (CPU/RAM usage)
- Try using custom temporary directory on different drive
- Restart application and retry

Error Messages:
Check the application's log output for specific error messages and troubleshooting guidance. The log will provide detailed information about any issues encountered during the repair process.

==============================
7. FAQ
==============================

Q: Can I use this tool on a banned console?
A: Yes, ban status doesn't affect the repair process. However, this tool CANNOT unban a console.

Q: Will this tool unban my console?
A: No. This tool repairs software corruption only. Console bans are server-side and cannot be reversed by any software tool - no tool can reverse a Nintendo ban.

Q: Will this remove CFW/homebrew?
A: All levels preserve CFW/homebrew. Level 1 retains user saves and profiles, while Levels 2 and 3 erase everything.

Q: Can I downgrade firmware?
A: Yes, downgrading is possible but not recommended unless necessary, such as syncing the fuse count when updating the console online after performing a Level 1 or 2 process.


Q: What if I don't have PRODINFO backup?
A: Level 1/2 can extract from eMMC. Level 3 requires external PRODINFO file (original backup or artificial from prodinfo_gen).

Q: Is it safe to interrupt the process?
A: No! Interruption can cause permanent damage. Ensure stable power/connection.

Q: Will my saves work after Level 1?
A: Yes, Level 1 preserves all user data including saves.

Q: How do I know which level to use?
A: Always start with Level 1. Only use higher levels if lower levels fail.

Q: What happens if Level 3 fails?
A: Console may become permanently unrecoverable. This is why it's last resort.

Q: Why does Level 3 break official Nintendo services?
A: Because original console certificates are lost and cannot be regenerated.


==============================
8. FINAL NOTES
==============================

Success Indicators:
- Switch boots to HOME menu without errors
- All system functions work normally
- Nintendo services work (Level 1/2 only, unless console is banned)
- Games launch and saves load properly

Post-Repair Recommendations:
1. Test all basic functions before installing homebrew
2. Create new NAND backup after successful repair
3. Update atmosphere/CFW if using homebrew
4. Verify online functionality before intensive use

Support Resources:
- Logs: Always save application logs for troubleshooting
- Backups: Keep multiple NAND backups in safe locations
- Community: Nintendo Switch homebrew communities for advanced help

Important Reminders:
- ALWAYS create NAND backup before starting
- Never interrupt the repair process
- Level 3 loses official Nintendo services but maintains internet connectivity
- Start with Level 1 and escalate only if needed
- Save logs for troubleshooting support

Legal Disclaimer:
This tool is for repairing legitimately owned consoles only. Users are responsible for compliance with local laws and Nintendo's terms of service. Use at your own risk.

